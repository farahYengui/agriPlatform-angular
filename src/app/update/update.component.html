<div [hidden]="submitted">
    <form (ngSubmit)="onSubmit()" #heroForm="ngForm">
        <div class="main-content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <h2 for="clients">Client</h2>
                            <select class="form-control" id="clients" name="clients" [(ngModel)]="selectedName"
                                *ngIf="clients" (change)="getClientByName()">
                                <option *ngFor="let c of clients || []" [value]="c.name">{{c.name}}</option>
                            </select>
                        </div>
                        <div class="card padding-form" [hidden]="form">

                            <h2>General characteristic</h2>
                            <label for="name">Name</label>
                            <input type="text" class="form-control ng-untouched ng-pristine ng-valid" id="name" required
                                [(ngModel)]="client.name" name="name" #name="ngModel">
                            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                                Name is required
                            </div>

                            <div class="form-group">
                                <label for="email">Email</label>
                                <input class="form-control ng-untouched ng-pristine ng-valid" type="email" id="email"
                                    [(ngModel)]="client.email" name="email" required 
                                    #email="ngModel">
                                <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
                                    Email is required
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="city">City</label>
                                <select class="form-control" id="city" required [(ngModel)]="client.city" name="city"
                                    [selectedIndex]="16">
                                    <option *ngFor="let city of cities" [value]="city">{{city}}</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="address">Address</label>
                                <input class="form-control ng-untouched ng-pristine ng-valid" type="text"
                                    class="form-control" id="address" [(ngModel)]="client.address" name="address">
                            </div>
                            <div class="form-group">
                                <label for="size">Size</label>
                                <div class="size">
                                    <input class="form-control ng-untouched ng-pristine ng-valid" type="text"
                                        class="form-control" id="irrigated" [(ngModel)]="client.irrigated"
                                        name="irrigated">
                                    <input value="Irrigated" disabled> &nbsp;
                                    <input class="form-control ng-untouched ng-pristine ng-valid" type="text"
                                        class="form-control" id="noirrigated" [(ngModel)]="client.noirrigated"
                                        name="noirrigated">
                                    <input value="No irrigated" disabled>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="total">Total</label>
                                <input class="form-control ng-untouched ng-pristine ng-valid" type="text" id="total" [(ngModel)]="client.total" name="total">
                            </div>
                            <table id="myTable" class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">Kind</th>
                                        <th scope="col">Variety</th>
                                        <th scope="col">Density(number/ha)</th>
                                        <th scope="col">planting year</th>
                                        <th scope="col">Size</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row of rowData1">
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row.kind"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row.variety"></td>
                                        <td class="d-flex align-items-center flex-wrap nowrap"
                                            style="display: inline-flex; align-items: center;">
                                            <div class="col-3">
                                                <input class="form-control ng-untouched ng-pristine" type="text"
                                                    placeholder="e" [(ngModel)]="row.densitye">
                                            </div>
                                            <div class="col-auto">
                                                <label>x</label>
                                            </div>
                                            <div class="col-3">
                                                <input class="form-control ng-untouched ng-pristine" type="text"
                                                    placeholder="E" [(ngModel)]="row.densityE">
                                            </div>
                                        </td>

                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row.plantingYear"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row.size"></td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="5">
                                            <a class="btn btn-success rounded-0 btn-block" (click)="addRow1($event)">Add
                                                Row</a>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="main-content" [hidden]="form">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card padding-form">
                            <h2> hydraulic network</h2>
                            <table id="myTable" class="table">
                                <thead>
                                    <tr>
                                        <th scope="col"></th>
                                        <th scope="col">ID</th>
                                        <th scope="col">Depth</th>
                                        <th scope="col">Flow</th>
                                        <th scope="col">Salinity</th>
                                        <th scope="col">Equipment</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row2 of rowData2">
                                        <th>water source</th>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row2.id"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                placeholder="depth" [(ngModel)]="row2.depth"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                placeholder="flow(l/s)" [(ngModel)]="row2.flow"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                placeholder="salinity" [(ngModel)]="row2.salinity"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                placeholder="equipment" [(ngModel)]="row2.equipment"></td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="6">
                                            <a class="btn btn-success rounded-0 btn-block" (click)="addRow2($event)">Add
                                                Row</a>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                            <table id="myTable" class="table">
                                <thead>
                                    <tr>
                                        <th scope="col"></th>
                                        <th scope="col">ID</th>
                                        <th scope="col">capacity</th>
                                        <th scope="col">Betan</th>
                                        <th scope="col">Equipment</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row3 of rowData3">
                                        <th>pond</th>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row3.id"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row3.capacity"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row3.betan"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row3.equipment"></td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="5">
                                            <a class="btn btn-success rounded-0 btn-block" (click)="addRow3($event)">Add
                                                Row</a>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="main-content" [hidden]="form">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card padding-form">
                            <h2> Plan</h2>
                            <table id="myTable" class="table">
                                <thead>
                                    <tr>
                                        <th scope="col" rowspan="2">Sector</th>
                                        <th scope="col" rowspan="2">Area(ha)</th>
                                        <th scope="col" colspan="3">Gte</th>
                                        <th scope="col" rowspan="2">Flow/sector</th>
                                    </tr>
                                    <tr>
                                        <th scope="col">Nature</th>
                                        <th scope="col">Egg</th>
                                        <th scope="col">Flow/g</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row4 of plan">
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row4.sector" [value]="row4.sector"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row4.area"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row4.nature"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row4.egg"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row4.flowg"></td>
                                        <td><input class="form-control ng-untouched ng-pristine" type="text"
                                                [(ngModel)]="row4.flows"></td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="6">
                                            <a class="btn btn-success rounded-0 btn-block" (click)="addRow4($event)">Add
                                                Row</a>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="main-content" [hidden]="form">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card padding-form">
                            <h2> soil</h2>
                            <label>homogeneous</label>
                            <input class="form-control ng-untouched ng-pristine" type="text" placeholder="area(ha)" [(ngModel)]="client.homogenous">
                            <br><br>
                            <label>heterogeneous</label>
                            <input class="form-control ng-untouched ng-pristine" type="text" placeholder="area(ha)" [(ngModel)]="client.heterogenous">
                            <br>
                            <div class="size">
                                <label for="clay">Clay</label>
                                <input class="form-control ng-untouched ng-pristine" type="text" placeholder="area(ha)" [(ngModel)]="client.clay" name="clay">
                                <label for="">Silt</label>
                                <input class="form-control ng-untouched ng-pristine" type="text" placeholder="area(ha)" [(ngModel)]="client.silt">
                                <label for="">Sand</label>
                                <input class="form-control ng-untouched ng-pristine" type="text" placeholder="area(ha)" [(ngModel)]="client.sand">
                                <label for="">Limestone</label>
                                <input class="form-control ng-untouched ng-pristine" type="text" placeholder="area(ha)" [(ngModel)]="client.limestone">
                                <label for="">Gypsum</label>
                                <input class="form-control ng-untouched ng-pristine" type="text" placeholder="area(ha)" [(ngModel)]="client.gypsum">    
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-btn" [hidden]="form">
            <button class="btn btn-danger" (click)="delete()" type="button" >Delete client</button> &nbsp; 
            <button type="submit" class="btn btn-success btn-fill" [disabled]="!heroForm.form.valid">Save</button>
            
        </div>
    </form>
</div>
<div class="text-center" [hidden]="!submitted">
    <div class="main-content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="card padding-form">

                        <h2>You submitted the following:</h2>
                        <h3>General characteristic</h3>
                        <div class="row">
                            <div class="col-xs-6">Name</div>
                            <div class="col-xs-6">{{ client.name }}</div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">Email</div>
                            <div class="col-xs-6">{{ client.email }}</div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">City</div>
                            <div class="col-xs-6">{{ client.city }}</div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">Address</div>
                            <div class="col-xs-6">{{ client.address }}</div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">Size</div>
                            <div class="col-xs-6">{{ client.irrigated }} irrigated & {{ client.noirrigated }} no irrigated</div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">Total</div>
                            <div class="col-xs-6">{{ client.total }}</div>
                        </div>
                        <table id="myTable" class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Kind</th>
                                    <th scope="col">Variety</th>
                                    <th scope="col">Density(number/ha)</th>
                                    <th scope="col">planting year</th>
                                    <th scope="col">Size</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let row of rowData1">
                                    <td><label>{{row.kind}}</label>
                                    </td>
                                    <td><label>{{row.variety}}</label>
                                    </td>
                                    <td class="d-flex align-items-center flex-wrap nowrap"
                                        style="display: inline-flex; align-items: center;">
                                        <div class="col-3">
                                            <label>10000/ {{row.densitye}} x {{row.densityE}} =</label>

                                        </div>
                                    </td>

                                    <td><label>{{row.plantingYear}}</label>
                                    </td>
                                    <td><label>{{row.size}}</label>
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                        <h3> hydraulic network</h3>
                        <table id="myTable" class="table">
                            <thead>
                                <tr>
                                    <th scope="col"></th>
                                    <th scope="col">ID</th>
                                    <th scope="col">Depth</th>
                                    <th scope="col">Flow</th>
                                    <th scope="col">Salinity</th>
                                    <th scope="col">Equipment</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let row2 of rowData2">
                                    <th>water source</th>
                                    <td>{{row2.id}}</td>
                                    <td>{{row2.depth}}</td>
                                    <td>{{row2.flow}}</td>
                                    <td>{{row2.salinity}}</td>
                                    <td>{{row2.equipment}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <table id="myTable" class="table">
                            <thead>
                                <tr>
                                    <th scope="col"></th>
                                    <th scope="col">ID</th>
                                    <th scope="col">capacity</th>
                                    <th scope="col">Betan</th>
                                    <th scope="col">Equipment</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let row3 of rowData3">
                                    <th>pond</th>
                                    <td>{{row3.id}}</td>
                                    <td>{{row3.capacity}}</td>
                                    <td>{{row3.betan}}</td>
                                    <td>{{row3.equipment}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <h3> Plan</h3>
                            <table id="myTable" class="table">
                                <thead>
                                    <tr>
                                        <th scope="col" rowspan="2">Sector</th>
                                        <th scope="col" rowspan="2">Area(ha)</th>
                                        <th scope="col" colspan="3">Gte</th>
                                        <th scope="col" rowspan="2">Flow/sector</th>
                                    </tr>
                                    <tr>
                                        <th scope="col">Nature</th>
                                        <th scope="col">Egg</th>
                                        <th scope="col">Flow/g</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row4 of plan">
                                        <td>{{row4.sector}}</td>
                                        <td>{{row4.area}}</td>
                                        <td>{{row4.nature}}</td>
                                        <td>{{row4.egg}}</td>
                                        <td>{{row4.flowg}}</td>
                                        <td>{{row4.flows}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <h3> soil</h3>
                            <label>homogeneous: {{ client.homogenous }}</label>
                            <br><br>
                            <label>heterogeneous: {{ client.heterogenous }} </label>
                            <br>
                                <label for="">Clay: {{ client.clay }}</label>&nbsp;
                                <label for="">Silt: {{ client.silt }}</label>&nbsp;
                                <label for="">Sand: {{ client.sand }}</label>&nbsp;
                                <label for="">Limestone: {{ client.limestone }}</label>&nbsp;
                                <label for="">Gypsum: {{ client.gypsum }}</label>    
                        <br>
                        <button type="button" class="btn btn-success btn-fill" (click)="submitted=false">Edit</button>
                    </div>
                </div>
            </div>
        </div> 
    </div>
</div>